<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Data Formats &#8212; ncpag2s-clc 1.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=8d563738"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Authorship, Acknowledgements, and References" href="authorship.html" />
    <link rel="prev" title="User Guide" href="userguide.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="data-formats">
<span id="formats"></span><h1>Data Formats<a class="headerlink" href="#data-formats" title="Link to this heading">¶</a></h1>
<section id="json-format">
<h2>JSON Format<a class="headerlink" href="#json-format" title="Link to this heading">¶</a></h2>
<p>The default JSON format contains a “metadata” structure, a “data” structure containing one or more “parameter” structures, and some bookkeeping entries at the end.  In more detail, the format is structured as follows:</p>
<p><strong>Individual Profiles</strong></p>
<p>An example of a single G2S profile in JSON format is shown here:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;sourcefile&quot;</span><span class="p">:</span> <span class="s2">&quot;G2SGCSB2023012404.bin&quot;</span><span class="p">,</span>
      <span class="s2">&quot;nz&quot;</span><span class="p">:</span> <span class="mi">1501</span><span class="p">,</span>
      <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;datetime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-01-24T04:00:00&quot;</span><span class="p">,</span>
          <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">T%H:%M:%S&quot;</span><span class="p">,</span>
          <span class="s2">&quot;__extended_json_type__&quot;</span><span class="p">:</span> <span class="s2">&quot;datetime&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">19.59</span><span class="p">,</span>
          <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">155.89</span><span class="p">,</span>
          <span class="s2">&quot;__extended_json_type__&quot;</span><span class="p">:</span> <span class="s2">&quot;Location&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="mi">7</span>
  <span class="p">},</span>
  <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
              <span class="s2">&quot;parameter&quot;</span><span class="p">:</span> <span class="s2">&quot;Z0&quot;</span><span class="p">,</span>
              <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Ground Height&quot;</span><span class="p">,</span>
              <span class="s2">&quot;units&quot;</span><span class="p">:</span> <span class="s2">&quot;km&quot;</span><span class="p">,</span>
              <span class="s2">&quot;n&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
              <span class="s2">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span>
                  <span class="mf">1.052</span>
              <span class="p">]</span>
          <span class="p">},</span>
          <span class="p">{</span>
              <span class="s2">&quot;parameter&quot;</span><span class="p">:</span> <span class="s2">&quot;Z&quot;</span><span class="p">,</span>
              <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Height&quot;</span><span class="p">,</span>
              <span class="s2">&quot;units&quot;</span><span class="p">:</span> <span class="s2">&quot;km&quot;</span><span class="p">,</span>
              <span class="s2">&quot;n&quot;</span><span class="p">:</span> <span class="mi">1501</span><span class="p">,</span>
              <span class="s2">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span>
                  <span class="mf">0.0</span><span class="p">,</span>
                  <span class="mf">0.1</span><span class="p">,</span>
                  <span class="o">...</span>
</pre></div>
</div>
<p>etc.</p>
<p>JSON files containing multiple profiles will generally be organized into profile sets, which may be <code class="docutils literal notranslate"><span class="pre">line``s,</span> <span class="pre">``grid``s,</span> <span class="pre">or</span> <span class="pre">other</span> <span class="pre">logical</span> <span class="pre">groupings.</span>&#160; <span class="pre">In</span> <span class="pre">these</span> <span class="pre">cases</span> <span class="pre">there</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">an</span> <span class="pre">outer</span> <span class="pre">JSON</span> <span class="pre">block</span> <span class="pre">with</span> <span class="pre">its</span> <span class="pre">own</span> <span class="pre">metadata</span> <span class="pre">structure,</span> <span class="pre">which</span> <span class="pre">will</span> <span class="pre">vary</span> <span class="pre">by</span> <span class="pre">the</span> <span class="pre">type</span> <span class="pre">of</span> <span class="pre">grouping.</span>&#160; <span class="pre">So</span> <span class="pre">a</span> <span class="pre">``line</span></code> grouping might look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;line&quot;</span><span class="p">,</span>
      <span class="s2">&quot;points&quot;</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span>
      <span class="s2">&quot;reference_location&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">19.59</span><span class="p">,</span>
          <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">155.89</span><span class="p">,</span>
          <span class="s2">&quot;__extended_json_type__&quot;</span><span class="p">:</span> <span class="s2">&quot;Location&quot;</span>
      <span class="p">},</span>
  <span class="p">},</span>
  <span class="s2">&quot;points&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
      <span class="o">&lt;</span><span class="n">individual</span> <span class="n">profile</span> <span class="n">structure</span><span class="o">&gt;</span>
      <span class="p">},</span>
      <span class="p">{</span>
      <span class="o">&lt;</span><span class="n">individual</span> <span class="n">profile</span> <span class="n">structure</span><span class="o">&gt;</span>
      <span class="p">},</span>
</pre></div>
</div>
<p>etc.  In these cases, additional fields will often be added to the metadata block for each constituent profile as appropriate; for example in the case of the line above, each profile’s metadata block will also have a “range” entry with the distance to the reference location in km.</p>
<p>This nesting behavior is extended as needed. For example if lines are requested for multiple times, the individual lines will be presented as a comma-separated series of the above structure, enclosed within square brackets.</p>
</section>
<section id="ncpaprop-format">
<h2>NCPAprop Format<a class="headerlink" href="#ncpaprop-format" title="Link to this heading">¶</a></h2>
<p>This is the format used by the <a class="reference external" href="https://github.com/chetzer-ncpa/ncpaprop-release">ncpaprop</a> package.  It consists of a series of comments, interspersed with formatted header lines that describe the data structure, followed by a set of space-separated columns of ASCII data, one column per atmospheric property.  An example of the format would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Data Source: G2SGCSB2023070412.bin</span>
<span class="c1"># Model Time 2023-07-04T12:00:00</span>
<span class="c1"># Location = [ 37.8670, -122.2590 ]</span>
<span class="c1"># Fields = [ Z(km), T(K), U(m/s), V(m/s), R(g/cm3), P(mbar) ]</span>
<span class="c1"># Ground Height = 0.076 km</span>
<span class="c1"># The following lines are formatted input for ncpaprop</span>
<span class="c1">#% 0, Z0, km, 0.076</span>
<span class="c1">#% 1, Z, km</span>
<span class="c1">#% 2, T, K</span>
<span class="c1">#% 3, U, m/s</span>
<span class="c1">#% 4, V, m/s</span>
<span class="c1">#% 5, RHO, g/cm3</span>
<span class="c1">#% 6, P, mbar</span>
  <span class="mf">0.000</span>      <span class="mf">2.85880e+02</span>       <span class="mf">1.40070e+00</span>       <span class="mf">1.26130e+00</span>       <span class="mf">1.23280e-03</span>       <span class="mf">1.01150e+03</span>
  <span class="mf">0.100</span>      <span class="mf">2.85530e+02</span>       <span class="mf">1.59140e+00</span>       <span class="mf">1.33830e+00</span>       <span class="mf">1.21970e-03</span>       <span class="mf">9.99540e+02</span>
  <span class="mf">0.200</span>      <span class="mf">2.85200e+02</span>       <span class="mf">1.78140e+00</span>       <span class="mf">1.41670e+00</span>       <span class="mf">1.20670e-03</span>       <span class="mf">9.87710e+02</span>
  <span class="mf">0.300</span>      <span class="mf">2.85250e+02</span>       <span class="mf">1.95350e+00</span>       <span class="mf">1.53070e+00</span>       <span class="mf">1.19220e-03</span>       <span class="mf">9.76030e+02</span>
  <span class="mf">0.400</span>      <span class="mf">2.86050e+02</span>       <span class="mf">2.09570e+00</span>       <span class="mf">1.67470e+00</span>       <span class="mf">1.17480e-03</span>       <span class="mf">9.64500e+02</span>
<span class="o">...</span>
</pre></div>
</div>
<p>etc.  In this example there are 6 columns of data.  The formatted header lines beginning with <code class="docutils literal notranslate"><span class="pre">#%</span></code> associate the column number with a label and its units.  Header lines with column number 0 indicate scalar quantities associated with the profile overall.</p>
<p>Because this format was designed for single-location profiles only, multi-profile requests have their own formats.  Line requests are output as a directory <code class="docutils literal notranslate"><span class="pre">profiles</span></code> containing a series of single-profile files, one per point, and a summary file associating each profile with its distance from the beginning of the line.  Grid requests are returned similarly, except the summary file associates each profile with its latitude/longitude coordinates.</p>
</section>
<section id="infraga-format">
<h2>InfraGA Format<a class="headerlink" href="#infraga-format" title="Link to this heading">¶</a></h2>
<p>This data format is available for grid requests only and is intended to work with the range-dependent modules of the LANL <a class="reference external" href="https://github.com/LANL-Seismoacoustics/infraGA">InfraGA</a> geometric acoustics package.  It is similar to the <code class="docutils literal notranslate"><span class="pre">ncpaprop</span></code> format, except that two summary files are created, one with the latitude points and one with the longitude points, and the filename structure is changed to that expected by the range-dependent InfraGA modules.  A third file <code class="docutils literal notranslate"><span class="pre">flags.txt</span></code> is also generated, providing the flags to use with InfraGA in order to read the grid files.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">ncpag2s-clc</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data Formats</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#json-format">JSON Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ncpaprop-format">NCPAprop Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="#infraga-format">InfraGA Format</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="authorship.html">Authorship, Acknowledgements, and References</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="userguide.html" title="previous chapter">User Guide</a></li>
      <li>Next: <a href="authorship.html" title="next chapter">Authorship, Acknowledgements, and References</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Claus Hetzer.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.4.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/formats.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>